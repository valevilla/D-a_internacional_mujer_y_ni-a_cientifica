<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exploradoras STEAM | Proyecto 11 de Febrero</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Playfair+Display:ital,wght@1,600;1,800&family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --soft-pink-bg: #fff0f3;
            --main-rose: #e67e96;
            --accent-peach: #ffb3a7;
            --text-gray: #4a4a4a;
            --white-glass: rgba(255, 255, 255, 0.95);
        }

        body {
            margin: 0;
            min-height: 100vh;
            font-family: 'Quicksand', sans-serif;
            background: radial-gradient(circle at top left, #fff5f7, #ffe4e9);
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-gray);
            overflow-x: hidden;
        }

        /* Contenedor */
        .app-card {
            background: var(--white-glass);
            width: 90%;
            max-width: 420px;
            height: 800px;
            border-radius: 60px;
            padding: 45px 30px;
            box-shadow: 0 40px 100px rgba(230, 126, 150, 0.2);
            border: 5px solid white;
            text-align: center;
            position: relative;
            backdrop-filter: blur(15px);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            animation: fadeIn 1s ease;
        }

        /* Tipografía y Títulos */
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            margin: 0;
            background: linear-gradient(135deg, #e67e96 0%, #fab1a0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-style: italic;
            letter-spacing: -1px;
        }

        .date-tag {
            font-size: 0.8rem;
            letter-spacing: 3px;
            color: #b0b0b0;
            text-transform: uppercase;
            font-weight: 700;
            margin-bottom: 5px;
        }

        /* Marco Circular */
        .circle-frame {
            width: 230px;
            height: 230px;
            margin: 15px auto;
            border-radius: 50%;
            border: 8px solid #ffcad6;
            padding: 8px;
            background: white;
            box-shadow: 0 15px 35px rgba(230, 126, 150, 0.1);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .circle-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        /* Botones */
        .btn-main {
            background: linear-gradient(135deg, #f794a4, #f9a893);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 100px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 12px 25px rgba(247, 148, 164, 0.3);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-main:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(247, 148, 164, 0.5);
        }

        /* Quiz: Opciones */
        .option-card {
            background: white;
            border: 2px solid #fff1f3;
            padding: 15px;
            border-radius: 20px;
            margin: 10px 0;
            cursor: pointer;
            transition: 0.3s;
            font-weight: 500;
        }

        .option-card:hover {
            border-color: var(--accent-peach);
            background: #fffafa;
        }

        .correct { background: #e8f5e9; border-color: #81c784; color: #2e7d32; }
        .wrong { background: #ffebee; border-color: #e57373; color: #c62828; }

        /* Miscelánea */
        .quote-style {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--main-rose);
            margin: 15px 0;
            line-height: 1.2;
        }

        .hidden { display: none !important; }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            border-radius: 20px;
            border: 2px solid #ffcad6;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1rem;
            outline: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div class="app-card">
        
        <div id="screen-home" style="height:100%; display:flex; flex-direction:column; justify-content:space-between;">
            <div>
                <h1>Exploradoras</h1>
                <div class="date-tag">11 de Febrero del 2026</div>
                <p style="color:var(--main-rose); font-weight:600; font-size:0.9rem;">Día Internacional de la Mujer y la Niña en la Ciencia</p>
            </div>
            <div class="circle-frame">
                <img src="mujer_scient.jpg" alt="Ingeniera STEAM">
            </div>
            <div>
                <p style="color:#7f8c8d; line-height:1.6;">Descubre el legado de las mentes brillantes que transformaron nuestro mundo.</p>
                <div style="font-family:'Dancing Script', cursive; font-size:1.8rem; color:var(--main-rose);">Inicia tu descubrimiento</div>
            </div>
            <button class="btn-main" onclick="changeScreen('home', 'bio')">Comenzar</button>
        </div>

        <div id="screen-bio" class="hidden" style="height:100%; display:flex; flex-direction:column; justify-content:space-between;">
            <div id="bio-header">
                <div id="bio-area-tag" class="date-tag" style="color:var(--main-rose)"></div>
                <h2 id="bio-name" style="font-family:'Playfair Display', serif; font-size:2.2rem; margin:5px 0;"></h2>
                <p id="bio-meta" style="font-size:0.8rem; color:#b0b0b0; font-weight:600; margin:0;"></p>
            </div>
            <div class="circle-frame">
                <img id="bio-img" src="" alt="">
            </div>
            <div>
                <div id="bio-quote" class="quote-style"></div>
                <p id="bio-desc" style="font-size:0.95rem; line-height:1.5; color:#7f8c8d;"></p>
            </div>
            <button class="btn-main" onclick="handleBioNext()">Siguiente</button>
        </div>

        <div id="screen-quiz" class="hidden" style="height:100%; display:flex; flex-direction:column; justify-content:space-between;">
            <div>
                <div class="date-tag">Validación Académica</div>
                <h2 style="font-family:'Playfair Display', serif; font-size:2rem; margin:5px 0;">Desafío STEAM</h2>
                <p id="quiz-progress" style="font-size:0.75rem; color:#b0b0b0; font-weight:700;"></p>
            </div>
            <div class="circle-frame" style="width:180px; height:180px;">
                <img id="quiz-img" src="" alt="Quiz Context">
            </div>
            <div>
                <p id="quiz-q" style="font-weight:700; margin-bottom:15px; font-size:1.05rem;"></p>
                <div id="quiz-options"></div>
            </div>
            <div style="height:10px;"></div>
        </div>

        <div id="screen-result" class="hidden" style="height:100%; display:flex; flex-direction:column; justify-content:center; gap:20px;">
            <h1 id="res-title">Resultado</h1>
            <div class="circle-frame">
                <img id="res-img" src="resultado.jpg" alt="Resultado">
            </div>
            <p id="res-text" style="font-weight:500; font-size:1.1rem; color:#7f8c8d;"></p>
            
            <div id="pass-actions" class="hidden">
                <input type="text" id="user-name" placeholder="Tu nombre para el diploma">
                <button class="btn-main" onclick="generateDiploma()">Descargar Título</button>
            </div>
            
            <button id="retry-btn" class="btn-main hidden" onclick="location.reload()">Reintentar</button>
        </div>

    </div>

    <script>
        // DATOS
        const bios = [
            { name: "Rosalind Franklin", area: "Ciencia", origin: "Reino Unido", born: "1920", quote: "La ciencia y la vida cotidiana no pueden separarse.", bio: "Biofísica británica, pionera para descubrir la estructura del ADN, de forma helicoidal, que capturó en la famosa Fotografía 51.", img: "Rosalind_franklin.png" },
            { name: "Ada Lovelace", area: "Tecnología", origin: "Reino Unido", born: "1815", quote: "Tengo una síntesis de todo lo que es posible.", bio: "Matemática visionaria y la primera programadora de la historia.", img: "ada_lovelace.png" },
            { name: "Mary Jackson", area: "Ingeniería", origin: "Estados Unidos", born: "1921", quote: "Avanzamos juntas hacia el futuro.", bio: "Primera ingeniera afroamericana de la NASA, experta en aerodinámica.", img: "mary_jackson.png" },
            { name: "Yayoi Kusama", area: "Arte", origin: "Japón", born: "1929", quote: "Nuestra tierra es solo un punto en el cosmos.", bio: "Artista que une matemáticas y patrones infinitos en su obra.", img: "yayoi_kusama.png" },
            { name: "Katherine Johnson", area: "Matemáticas", origin: "Estados Unidos", born: "1918", quote: "Todo es matemáticas.", bio: "Sus cálculos orbitales permitieron la llegada del hombre a la Luna.", img: "katherine_johnson.png" }
        ];

        const quiz = [
            { q: "¿Qué científica capturó la Fotografía 51 del ADN?", a: "Rosalind Franklin", o: ["Marie Curie", "Rosalind Franklin", "Ada Lovelace"], img: bios[0].img },
            { q: "¿Quién escribió el primer algoritmo informático?", a: "Ada Lovelace", o: ["Ada Lovelace", "Katherine Johnson", "Mary Jackson"], img: bios[1].img },
            { q: "¿En qué agencia trabajó Mary Jackson?", a: "NASA", o: ["NASA", "ESA", "CERN"], img: bios[2].img },
            { q: "¿Cuántos aciertos necesitas para el certificado?", a: "3", o: ["1", "3", "5"], img: "mujer_scient.jpg" },
            { q: "¿Quién calculó la ruta del Apolo 11?", a: "Katherine Johnson", o: ["Katherine Johnson", "Margaret Hamilton", "Yayoi Kusama"], img: bios[4].img }
        ];

        let bioIdx = 0;
        let quizIdx = 0;
        let score = 0;

        // LÓGICA_web
        function changeScreen(from, to) {
            document.getElementById(`screen-${from}`).classList.add('hidden');
            document.getElementById(`screen-${to}`).classList.remove('hidden');
            if(to === 'bio') renderBio();
            if(to === 'quiz') renderQuiz();
        }

        function renderBio() {
            const data = bios[bioIdx];
            document.getElementById('bio-area-tag').innerText = data.area;
            document.getElementById('bio-name').innerText = data.name;
            document.getElementById('bio-meta').innerText = `${data.origin} • Nacida en ${data.born}`;
            document.getElementById('bio-img').src = data.img;
            document.getElementById('bio-quote').innerText = `"${data.quote}"`;
            document.getElementById('bio-desc').innerText = data.bio;
        }

        function handleBioNext() {
            bioIdx++;
            if(bioIdx < bios.length) renderBio();
            else changeScreen('bio', 'quiz');
        }

        function renderQuiz() {
            const data = quiz[quizIdx];
            document.getElementById('quiz-progress').innerText = `PREGUNTA ${quizIdx + 1} DE ${quiz.length}`;
            document.getElementById('quiz-q').innerText = data.q;
            document.getElementById('quiz-img').src = data.img;
            const opts = document.getElementById('quiz-options');
            opts.innerHTML = '';
            data.o.forEach(opt => {
                const div = document.createElement('div');
                div.className = 'option-card';
                div.innerText = opt;
                div.onclick = () => checkAns(opt, div);
                opts.appendChild(div);
            });
        }

        function checkAns(selected, el) {
            const all = document.querySelectorAll('.option-card');
            all.forEach(b => b.style.pointerEvents = 'none');
            
            if(selected === quiz[quizIdx].a) {
                score++;
                el.classList.add('correct');
            } else {
                el.classList.add('wrong');
            }

            setTimeout(() => {
                quizIdx++;
                if(quizIdx < quiz.length) renderQuiz();
                else showFinal();
            }, 800);
        }

        function showFinal() {
            changeScreen('quiz', 'result');
            const txt = document.getElementById('res-text');
            if(score >= 3) {
                document.getElementById('res-title').innerText = "¡Excelente!";
                txt.innerText = `Has obtenido ${score}/5 aciertos. Lograste el reconocimiento académico.`;
                document.getElementById('pass-actions').classList.remove('hidden');
            } else {
                document.getElementById('res-title').innerText = "Casi lo logras";
                txt.innerText = `Obtuviste ${score}/5 aciertos. Necesitas al menos 3 para el título.`;
                document.getElementById('retry-btn').classList.remove('hidden');
            }
        }

        function generateDiploma() {
            const name = document.getElementById('user-name').value.toUpperCase() || "EXPLORADORA";
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('landscape');
            
            doc.setFillColor(255, 245, 248);
            doc.rect(0, 0, 297, 210, 'F');
            doc.setDrawColor(230, 126, 150);
            doc.setLineWidth(2);
            doc.roundedRect(10, 10, 277, 190, 10, 10, 'S');

            doc.setTextColor(230, 126, 150);
            doc.setFont("times", "bold");
            doc.setFontSize(35);
            doc.text("DIPLOMA DE EXCELENCIA STEAM", 148, 55, { align: 'center' });

            doc.setTextColor(80, 80, 80);
            doc.setFontSize(18);
            doc.setFont("helvetica", "normal");
            doc.text("Se otorga con honor a:", 148, 85, { align: 'center' });

            doc.setTextColor(230, 126, 150);
            doc.setFont("times", "italic");
            doc.setFontSize(45);
            doc.text(name, 148, 120, { align: 'center' });

            doc.setTextColor(100, 100, 100);
            doc.setFontSize(14);
            doc.text("Por completar el viaje educativo de las Mujeres en la Ciencia.", 148, 155, { align: 'center' });
            doc.text("11 de Febrero · Reconocimiento Internacional", 148, 185, { align: 'center' });

            doc.save(`Certificado_STEAM_${name}.pdf`);
        }
    </script>
</body>
</html>
